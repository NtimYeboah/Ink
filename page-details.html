<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>ntim.dev</title>
        <link href="/tailwind.css" rel="stylesheet">
        <script>
            // It's best to inline this in `head` to avoid FOUC (flash of unstyled content) when changing pages or themes
            if (
                localStorage.getItem('color-theme') === 'dark' ||
                (!('color-theme' in localStorage) &&
                window.matchMedia('(prefers-color-scheme: dark)').matches)
            ) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        </script>
    </head>
    <body class="antialiased bg-white dark:bg-baccara scroll-smooth">
        <header class="py-4">
            <div class="container pl-4 pr-4 sm:pl-4 sm:pr-4 md:mx-auto">
                <div class="md:w-8/12 md:mx-auto flex flex-row justify-between items-center">
                    <div class="basis-4/5 md:basis-4/12">
                        <a href="/" class="font-sarabun text-lg font-extrabold dark:text-gray-400">ntim.dev</a>
                    </div>
                    <nav class="hidden md:block md:basis-4/12 basis-1/4">
                        <ul class="flex justify-center gap-12">
                            <li><a href="/blog" class="font-saira text-xl font-semibold py-1 hover:border-b-2 border-gray-600 dark:text-gray-400">Blog</a></li>
                            <li><a href="/projects" class="font-saira text-xl font-semibold py-1 hover:border-b-2 border-gray-600 dark:text-gray-400">Projects</a></li>
                            <li><a href="/about" class="font-saira text-xl font-semibold py-1 hover:border-b-2 border-gray-600 dark:text-gray-400">About</a></li>
                        </ul>
                    </nav>
                    <div class="basis-1/5 md:basis-4/12 pr-3 md:pr-0 border-r md:border-r-0 dark:border-r-gray-400">
                        <ul class="flex justify-end items-center gap-8">
                            <li>
                                <button
                                    id="theme-toggle"
                                    type="button"
                                    class="text-gray-600 dark:text-gray-400 hover:bg-slate-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2"
                                >
                                    <svg
                                        id="theme-toggle-dark-icon"
                                        class="w-5 h-5 hidden"
                                        fill="currentColor"
                                        viewBox="0 0 20 20"
                                        xmlns="http://www.w3.org/2000/svg"
                                    >
                                        <path
                                            d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
                                        />
                                    </svg>
                                    <svg
                                        id="theme-toggle-light-icon"
                                        class="w-5 h-5 hidden"
                                        fill="currentColor"
                                        viewBox="0 0 20 20"
                                        xmlns="http://www.w3.org/2000/svg"
                                    >
                                        <path
                                            d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                                            fill-rule="evenodd"
                                            clip-rule="evenodd"
                                        />
                                    </svg>
                                </button>
                            </li>
                        </ul>
                    </div>
                    <div class="basis-1/12 md:hidden lg:hidden">
                        <div class="flex justify-end">
                            <svg id="sm-menu-icon" onClick="onToggleMenuIcon(this)" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 font-bold dark:text-gray-400">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                            </svg>
                            <svg id="sm-cancel-icon" onClick="onToggleMenuIcon(this)" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 hidden dark:text-gray-400">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- Menu for SM and below devices -->
        <section id="sm-menu" class="hidden w-full shadow-sm z-50 absolute bg-white md:hidden lg:hidden 2xl:hidden dark:bg-cyan-950">
            <ul class="flex flex-col items-end">
                <li class="py-2 border-b dark:border-b-gray-400 w-full"><a href="/" class="font-saira font-bold float-right pr-5 py-2 border-gray-300 dark:text-slate-100">Blog</a></li>
                <li class="py-2 w-full"><a href="/projects" class="font-saira font-bold float-right pr-5 py-2 border-gray-300 dark:text-slate-100">Projects</a></p></li>
                <li class="py-2 border-t dark:border-t-gray-400 w-full"><a href="/about.html" class="font-saira font-bold float-right pr-5 py-2 border-gray-300 dark:text-slate-100">About</a></p></li>
            </ul>
        </section>
        <!-- End of menu for SM and below devices -->

        

        <!-- Main content -->
        <section class="container sm:pl-4 sm:pr-4 md:mx-auto mt-10">
            <!-- Main content container -->
            <div class="md:w-7/12 md:mx-auto flex flex-col">
                <div class="flex justify-center mb-10">
                    <h1 class="font-sarabun text-2xl font-extrabold text-slate-900 dark:text-gray-300">
                        I don't like mocks in unit testing (I use them, but don't like them).
                    It often results in tests that only assure some specific method was called
                    with certain parameters.
                    </h1>
                </div>

                <div class="flex justify-center gap-5">
                    <span class="text-base font-bold text-gray-600">PHPUNIT</span>
                    <span class="text-base font-bold text-gray-600">PHPUNIT</span>
                    <span class="text-base font-bold text-gray-600">PHPUNIT</span>
                </div>

                <div class="flex justify-center gap-5 mt-5">
                    <span class="text-base font-normal text-gray-600">20.10.2013</span>
                </div>

                <div class="flex justify-center">
                    <img class="rounded-md w-full md:h-96 object-cover object-center mt-10" src="/assets/img/stop-mocking-about-event-dispatcher.jpg" alt="feature-image">
                </div>

                <div id="content" class="mt-10 text-lg dark:text-gray-300">
                    <p>
                        I don't like mocks in unit testing (I use them, but don't like them).
                        It often results in tests that only assure some specific method was called
                        with certain parameters. It is this approach that may lead some to think
                        that writing tests is writing the code twice, and therefore a waste of time.
                        It also leaves a lot of room for errors, missing tests, or broken tests when
                        the implementation is changed.
                    </p>

                    <p>
                        That's why I wanted to make a miniseries on replacing mocks with real
                        implementations by providing some semi-real-world examples.
                    </p>

                    <p>
                        In this post we'll be looking into testing Event Dispatchers & Event Listeners.
                        First we'll use mocks and check out some of their shortcomings.
                        Then we'll rewrite to real implementations and see what makes them better.
                    </p>

                    <p>
                        This test works, and it has full test coverage. But what are we actually testing here?
                        Because we've mocked the EventDispatcherInterface, we need to tell the mock what to expect and return:
                    </p>

                    <p>
                        It will receive exactly one call to dispatch with a GetTitleEvent that has The title as a value,
                        and it needs to return that event; because we will call getTitle() on it.
                    </p>

                    <p>
                        So we are mostly building a fake event dispatcher, and testing if it gets the correct parameters.
                        Only then can we test the actual function of this test Importer::getPostTitle() and
                        assert it returns the proper value.
                    </p>
                        
                    <p>
                        So more than half of this test is making sure the getPostTitle method calls some exact code;
                        and sets up the world so that the actual test can be performed.
                        And it doesn't even listen to the event, or change the title.
                    </p>
                </div>

                <!-- Comments section -->
                <div class="giscus mt-5 mb-10">
                </div>
                <!-- End of comments section-->
            </div>

            <div class="md:w-8/12 md:mx-auto flex flex-col mb-10">
                <div class="flex flex-col bg-slate-50 dark:bg-daccara">
                    <!-- Text container -->
                    <div class="flex flex-row gap-3">
                        <div>
                            <div class="h-5 my-3 border-l-2 border-l-rose-500">
                            </div>
                        </div>
                        <div>
                            <div class="h-5 mt-2">
                                <h2 class="font-saira font-bold text-xl dark:text-gray-400">You might be interested in these too</h2>
                            </div>
                        </div>
                    </div>

                    <div class="flex flex-col md:grid md:grid-cols-3 md:gap-4 mx-4 mb-4">
                        <article class="hover:bg-slate-100 dark:hover:bg-faccara">
                            <a href="/page-details.html" class="">
                                <div class="flex-col">
                                    <picture>
                                        <img class="w-full h-48 object-cover object-center mb-2" src="/assets/img/stop-mocking-about-event-dispatcher.jpg" alt="">
                                    </picture>
                                </div>
                                <div class="flex flex-col px-4">
                                    <div class="flex flex-col">
                                        <h3 class="font-sarabun font-extrabold text-lg text-left dark:text-gray-300">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</h3>
                                        <p class="text-base text-gray-900 dark:text-gray-400 line-clamp-4 mt-5">
                                            Lorem Ipsum is simply dummy text of the printing and typesetting industry.
                                            Lorem Ipsum is simply dummy text of the printing and typesetting industry.
                                            Lorem Ipsum is simply dummy text of the printing and typesetting industry.
                                        </p>
                                    </div>
                                    <div class="flex flex-row py-4 gap-2 justify-left">
                                        <div>
                                            <p class="inline-flex text-gray-600 text-xs font-semibold">4.12.2023</p>
                                        </div>
                                        <div>
                                            <span class="font-semibold text-gray-500">|</span>
                                        </div>
                                        <div>
                                            <p class="inline-flex text-gray-600 text-xs font-semibold">PHPUNIT</p>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </article>

                        <article class="hover:bg-slate-100 dark:hover:bg-faccara">
                            <a href="/page-details.html" class="">
                                <div class="flex-col">
                                    <picture>
                                        <img class="w-full h-48 object-cover object-center mb-2" src="/assets/img/stop-mocking-about-event-dispatcher.jpg" alt="">
                                    </picture>
                                </div>
                                <div class="flex flex-col px-4">
                                    <div class="flex flex-col">
                                        <h3 class="font-sarabun font-extrabold text-lg text-left dark:text-gray-300">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</h3>
                                        <p class="text-base text-gray-900 dark:text-gray-400 line-clamp-4 mt-5">
                                            Lorem Ipsum is simply dummy text of the printing and typesetting industry.
                                            Lorem Ipsum is simply dummy text of the printing and typesetting industry.
                                            Lorem Ipsum is simply dummy text of the printing and typesetting industry.
                                        </p>
                                    </div>
                                    <div class="flex flex-row py-4 gap-2 justify-left">
                                        <div>
                                            <p class="inline-flex text-gray-600 text-xs font-semibold">4.12.2023</p>
                                        </div>
                                        <div>
                                            <span class="font-semibold text-gray-500">|</span>
                                        </div>
                                        <div>
                                            <p class="inline-flex text-gray-600 text-xs font-semibold">PHPUNIT</p>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </article>

                        <article class="hover:bg-slate-100 dark:hover:bg-faccara">
                            <a href="/page-details.html" class="">
                                <div class="flex-col">
                                    <picture>
                                        <img class="w-full h-48 object-cover object-center mb-2" src="/assets/img/stop-mocking-about-event-dispatcher.jpg" alt="">
                                    </picture>
                                </div>
                                <div class="flex flex-col px-4">
                                    <div class="flex flex-col">
                                        <h3 class="font-sarabun font-extrabold text-lg text-left dark:text-gray-300">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</h3>
                                        <p class="text-base text-gray-900 dark:text-gray-400 line-clamp-4 mt-5">
                                            Lorem Ipsum is simply dummy text of the printing and typesetting industry.
                                            Lorem Ipsum is simply dummy text of the printing and typesetting industry.
                                            Lorem Ipsum is simply dummy text of the printing and typesetting industry.
                                        </p>
                                    </div>
                                    <div class="flex flex-row py-4 gap-2 justify-left">
                                        <div>
                                            <p class="inline-flex text-gray-600 text-xs font-semibold">4.12.2023</p>
                                        </div>
                                        <div>
                                            <span class="font-semibold text-gray-500">|</span>
                                        </div>
                                        <div>
                                            <p class="inline-flex text-gray-600 text-xs font-semibold">PHPUNIT</p>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </article>
                    </div>
                </div>
            </div>
        </section>
        <!-- End of main content -->

        <footer class="bg-black p-5">
            <div class="container pl-4 pr-4 sm:pl-4 sm:pr-4 md:mx-auto">
                <div class="flex flex-row justify-start">
                    <div class="w-2/6 md:w-4/6">
                        <p class="text-slate-400 text-sm font-sarabun">&copy; 2023 <a href="/">ntim.dev</a></p>
                    </div>
                    <div class="w-2/6 md:w-1/6">
                        <ul class="flex justify-between gap-3 md:gap-0">
                            <li><a href="/blog" class="font-saira font-semibold text-slate-400 py-4 dark:text-gray-400">Blog</a></li>
                            <li><a href="/projects" class="font-saira font-semibold text-slate-400 py-4 dark:text-gray-400">Projects</a></li>
                            <li><a href="/about" class="font-saira font-semibold text-slate-400 py-4 dark:text-gray-400">About</a></li>
                        </ul>
                    </div>
                    <div class="w-2/6 md:w-1/6">
                        <ul class="flex flex-row justify-end gap-6 md:gap-6">
                            <li>
                                <a href="https://twitter.com/ntimdev" target="_blank" class="text-slate-400 font-medium py-4 hover:border-b-4 border-gray-300 dark:text-gray-400">
                                    <svg
                                        fill="currentColor"
                                        xmlns="http://www.w3.org/2000/svg"
                                        width="20"
                                        height="20"
                                        viewBox="0 0 24 24"
                                    >
                                        <path
                                            d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.066 9.645c.183 4.04-2.83 8.544-8.164 8.544-1.622 0-3.131-.476-4.402-1.291 1.524.18 3.045-.244 4.252-1.189-1.256-.023-2.317-.854-2.684-1.995.451.086.895.061 1.298-.049-1.381-.278-2.335-1.522-2.304-2.853.388.215.83.344 1.301.359-1.279-.855-1.641-2.544-.889-3.835 1.416 1.738 3.533 2.881 5.92 3.001-.419-1.796.944-3.527 2.799-3.527.825 0 1.572.349 2.096.907.654-.128 1.27-.368 1.824-.697-.215.671-.67 1.233-1.263 1.589.581-.07 1.135-.224 1.649-.453-.384.578-.87 1.084-1.433 1.489z"
                                        />
                                    </svg>
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/NtimYeboah" target="_blank" class="text-slate-400 font-medium py-4 hover:border-b-4 border-gray-300 dark:text-gray-400">
                                    <svg
                                        fill="currentColor"
                                        xmlns="http://www.w3.org/2000/svg"
                                        width="20"
                                        height="20"
                                        viewBox="0 0 24 24"
                                    >
                                            <path
                                                d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
                                            />
                                    </svg>
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/NtimYeboah" target="_blank" class="text-slate-400 font-medium py-4 hover:border-b-4 border-gray-300 dark:text-gray-400">
                                    <svg
                                        fill="currentColor"
                                        xmlns="http://www.w3.org/2000/svg"
                                        width="20"
                                        height="20"
                                        viewBox="0 0 24 24"
                                    >
                                            <path
                                                d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
                                            />
                                    </svg>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer>

    <script src="assets/js/main.js"></script>
    <script>
        function onToggleMenuIcon(element) {
            showMenu = element.id === 'sm-menu-icon' ? true : false;
            element.classList.add('hidden')

            menuForSmallScreens = document.querySelector('#sm-menu');

            if (showMenu) {
                cancelMenuIcon = document.querySelector('#sm-cancel-icon');
                cancelMenuIcon.classList.remove('hidden')

                menuForSmallScreens.classList.remove('hidden')
            } else {
                showMenuIcon = document.querySelector('#sm-menu-icon');
                showMenuIcon.classList.remove('hidden')

                menuForSmallScreens.classList.add('hidden')
            }
        }
    </script>
    <script src="https://giscus.app/client.js"
        data-repo="NtimYeboah/ntim.dev"
        data-repo-id="R_kgDOKwH1Gg"
        data-category="Announcements"
        data-category-id="DIC_kwDOKwH1Gs4CbHnQ"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
    </script>
    </body>
</html>